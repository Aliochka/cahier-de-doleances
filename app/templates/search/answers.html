{% extends "base/base.html" %}
{% set PAGE_TITLE = q and ("Recherche rÃ©ponses : Â« " ~ q ~ " Â»") or "Recherche rÃ©ponses" %}
{% set PAGE_DESCRIPTION = q and ("RÃ©sultats dans les rÃ©ponses pour Â« " ~ q ~ " Â». Parcourez les contributions correspondantes.") or "Parcourez les rÃ©ponses les plus rÃ©centes publiÃ©es par les contributeurs." %}
{% set on_answers_search = true %}

{% block content %}
<header class="page-header page-header--stack">
  <h1 class="h1 page-title--nowrap">Recherche dans les rÃ©ponses</h1>

  <form class="search-bar" method="get" action="{{ url_for('search_answers') }}" onsubmit="return false;">
    <label class="sr-only" for="q">Rechercher dans les rÃ©ponses</label>

    <div class="search-input-wrapper">
      <input
        id="q"
        name="q"
        type="search"
        placeholder="Rechercher..."
        value="{{ q|default('') }}"
        autocomplete="off"
        hx-get="{{ url_for('search_answers') }}"
        hx-trigger="keyup changed delay:300ms, search"
        hx-target="#answers-list"
        hx-swap="innerHTML"
        hx-push-url="true"
        hx-indicator=".search-loading"
      />
      <span class="search-loading htmx-indicator" aria-hidden="true">ğŸ”</span>
    </div>
  </form>
</header>

<!-- Conteneur que htmx remplace/Ã©tend -->
<div id="answers-list">
  {% include "partials/_answers_list.html" with context %}
</div>
{% endblock %}
