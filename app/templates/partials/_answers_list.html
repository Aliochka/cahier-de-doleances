{# Liste de réponses utilisant le composant _card.html #}
{% for a in answers %}
  {% include "answers/_card.html" with context %}
{% endfor %}

{% if has_next and next_cursor %}
  <div class="htmx-sentinel"
       style="min-height:20px;"
       {% if on_question_page and question %}
         hx-get="{{ url_for('question_detail', question_id=question.id, slug=question.slug) }}?partial=1&cursor={{ next_cursor|urlencode }}{% if q %}&q={{ q|urlencode }}{% endif %}"
       {% else %}
         hx-get="{{ url_for('search_answers') }}?q={{ q|default('')|urlencode }}&cursor={{ next_cursor|urlencode }}&partial=1"
       {% endif %}
       hx-trigger="intersect once"
       hx-target="#answers-list"
       hx-swap="beforeend"
       hx-indicator=".list-loader"
       aria-hidden="true">
    <div class="list-loader">
      <div class="loader" aria-hidden="true" title="Chargement…"></div>
    </div>
  </div>
{% endif %}