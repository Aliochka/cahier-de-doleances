{% if questions and questions|length %}
  <ul class="list list--plain">
    {% for question in questions %}
      <li class="card">
        {% with q=question %}
          {% include "questions/_card.html" %}
        {% endwith %}
      </li>
    {% endfor %}
  </ul>

  {% if has_next_questions and next_cursor_questions %}
    <div class="questions-load-more-sentinel"
         hx-get="{{ url_for('search_questions') }}?partial=1&section=questions{% if q %}&q={{ q|urlencode }}{% endif %}&cursor_questions={{ next_cursor_questions|urlencode }}"
         hx-trigger="intersect once"
         hx-target="#questions-list"
         hx-swap="beforeend">
      <div class="list-loader">
        <div class="loader" title="Chargement des questions suivantes…"></div>
        <span style="margin-left: var(--space-2); color: var(--muted);">Chargement des questions…</span>
      </div>
    </div>
  {% endif %}
{% else %}
  {% include "partials/_empty_state.html" %}
{% endif %}
