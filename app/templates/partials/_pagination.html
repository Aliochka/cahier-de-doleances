{% set p = (page or 1) | int %}
{% set total_pages = (total_pages or 1) | int %}
{% set base_path = request.url.path %}
<nav class="pagination" role="navigation" aria-label="Pagination">
  {# lien précédent #}
  <a
    class="pagination__btn{% if p <= 1 %} is-disabled{% endif %}"
    href="{{ base_path }}?page={{ 1 if p<=1 else p-1 }}{% if q %}&q={{ q|urlencode }}{% endif %}{% if sort %}&sort={{ sort|urlencode }}{% endif %}"
    aria-disabled="{{ 'true' if p<=1 else 'false' }}"
    rel="prev"
  >Précédent</a>

  <span class="pagination__info">Page {{ p }} / {{ total_pages }}</span>

  {# lien suivant #}
  <a
    class="pagination__btn{% if p >= total_pages %} is-disabled{% endif %}"
    href="{{ base_path }}?page={{ total_pages if p>=total_pages else p+1 }}{% if q %}&q={{ q|urlencode }}{% endif %}{% if sort %}&sort={{ sort|urlencode }}{% endif %}"
    aria-disabled="{{ 'true' if p>=total_pages else 'false' }}"
    rel="next"
  >Suivant</a>
</nav>
