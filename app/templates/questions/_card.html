{# app/templates/questions/_card.html #}
<article class="question-card">
  {% set title_html = q.prompt_hl|safe if q.prompt_hl else (q.title or q.prompt) %}
  {% set q_url = url_for('question_detail', question_id=q.id, slug=q.slug) if q.slug else url_for('question_detail_legacy', question_id=q.id) %}

  <h3 class="h3 question-card__title">
    <a href="{{ q_url }}">{{ title_html }}</a>
  </h3>
  
  {% if q.answers_count is defined %}
    <div class="question-card__badge">
      <a class="badge" href="{{ q_url }}">
        {% if q.answers_count == 0 %}Aucune réponse
        {% elif q.answers_count == 1 %}1 réponse
        {% else %}{{ q.answers_count }} réponses{% endif %}
      </a>
    </div>
  {% endif %}
</article>
